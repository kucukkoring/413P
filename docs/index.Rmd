---
title: "Homepage"
output:
  html_document:
    css: main2.css
    toc: true
    toc_float: true
    self_contained: true
---
# Content

## Introduction

In this project, rental and sale prices of houses in some districts of Ankara (Altındağ, Çankaya, Çubuk, Etimesgut, Gölbaşı, Keçiören, Mamak, Polatlı, Pursaklar, Sincan, Yenimahalle) are shown. In addition, it is analyzed how house sales in Ankara are affected by the Ankara House Price Index and Housing Loan Interest rates.  


The map below dynamically displays the average rental and sale prices in the districts.

```{r, echo=FALSE, warning=FALSE, message=FALSE, fig.width=9, fig.height=8}
library(leaflet)
library(sf)
library(dplyr)
library(rnaturalearth)

# Download Turkey boundaries
turkey <- ne_states(country = "Turkey", returnclass = "sf")

# Extract Ankara from Turkey data
ankara <- turkey %>% filter(admin == "Ankara")

# Project the data to a suitable coordinate system
ankara <- st_transform(ankara, crs = st_crs(4326))

# Create a basic leaflet map
ankara_map <- leaflet() %>%
  addTiles() %>%
  setView(lng = 32.8597, lat = 39.9334, zoom = 7)  # Set the initial view to Ankara

# Add the Ankara shapefile data to the map
ankara_map <- ankara_map %>%
  addPolygons(data = ankara, fillOpacity = 0.5, color = "black", weight = 1)

# District data with Average Rental and Sale Prices
district_data <- data.frame(
  District = c("Altındağ", "Gölbaşı", "Çankaya", "Çubuk", "Etimesgut", "Keçiören", 
               "Mamak", "Polatlı", "Pursaklar", "Sincan", "Yenimahalle"),
  Longitude = c(32.8544, 32.6223, 32.8644, 33.0099, 32.8556, 32.9164, 
                32.8639, 31.4060, 32.6211, 32.6251, 32.7836),
  Latitude = c(39.9182, 39.8925, 39.9334, 40.1382, 39.9508, 39.9847, 
               39.9956, 39.9836, 40.0741, 39.9820, 39.9708),
  Average_Rental_Price = c(13165, 33657, 24984, 8170, 16839, 14052, 12469, 9502, 15729, 13017, 18214),
  Average_Sale_Price = c(2350437, 2997151, 3385259, 1961788, 3480111, 2668895, 2081773, 1980181, 2815986, 2212316, 3540097)
)

# Create a spatial data frame
district_sf <- st_as_sf(district_data, coords = c("Longitude", "Latitude"), crs = 4326)

# Create a basic leaflet map
ankara_map <- leaflet() %>%
  addTiles() %>%
  setView(lng = 32.8597, lat = 39.9334, zoom = 10)  # Adjust zoom level as needed

# Add markers for each district to the map
ankara_map <- ankara_map %>%
  addMarkers(data = district_sf, 
             popup = ~paste("District: ", District, 
                            "<br>Avg Rental Price: TL", Average_Rental_Price,
                            "<br>Avg Sale Price: TL", Average_Sale_Price))

# Display the map
ankara_map

```


In the depicted maps, regions colored in purple signify areas where the available data is insufficient, consequently reflected as zero values in the map representation. Analyzing the rental map, a discernible pattern emerges, indicating an incremental rise in rental prices from purple to yellow. Notably, Gölbaşı emerges as the locality with the highest rental prices, succeeded by Çankaya, while other regions exhibit intermediate values, with Çubuk registering the lowest rental prices.

Examining the property sales map reveals a parallel trend within the legend, wherein a progression from purple to yellow corresponds to ascending property prices. Noteworthy localities with the highest property prices include Yeni Mahalle, Çankaya, and Etimesgut. Conversely, Polatlı, Sincan, and Çubuk manifest the lowest property prices in this representation.

These spatial patterns offer valuable insights into the distribution of rental and property sales prices across different districts, allowing for a nuanced understanding of the varying economic landscapes within the region.

```{r fig.height=8, fig.width=9, message=FALSE, warning=FALSE, include=FALSE}
library(sf)
library(plotly)

# Load the shapefile
ankara <- st_read("C:/Users/LENOVO/Desktop/413 Proje/proje/MAP_SHP/ankara.shp")

```



```{r, echo=FALSE, warning=FALSE, message=FALSE, fig.width=9, fig.height=8}

shp_map_rent <- plot_ly(ankara, split = ~ILCEADI, color = ~Rent, span = I(1.5), showlegend = FALSE,   
        text = ~Rent, 
        hoverinfo = "text") %>%
  layout(title = "Rent Map")

shp_map_sale <- plot_ly(ankara, split = ~ILCEADI, color = ~Sale, span = I(1.5), showlegend = FALSE,   
                   text = ~Sale, 
                   hoverinfo = "text") %>%
  layout(title = "Rental Map                                    Sale Map")

subplot(shp_map_rent, shp_map_sale, nrows = 1)
```


## Regression

### **[Analyze](regression.html)**

## Cities

### **[Ankara](ankara.html)**

## About Us

### **[About Us](aboutus.html)**





